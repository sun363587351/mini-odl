<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_202) on Wed Aug 14 10:35:03 CST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ReplicatedLog (controller-docs 0.11.0-SNAPSHOT API)</title>
<meta name="date" content="2019-08-14">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReplicatedLog (controller-docs 0.11.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],4:["t3","抽象方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/ReplicatedLog.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opendaylight/controller/cluster/raft/RaftVersions.html" title="org.opendaylight.controller.cluster.raft中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opendaylight/controller/cluster/raft/ReplicatedLog.html" target="_top">框架</a></li>
<li><a href="ReplicatedLog.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opendaylight.controller.cluster.raft</div>
<h2 title="接口 ReplicatedLog" class="title">接口 ReplicatedLog</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已知实现类:</dt>
<dd><a href="../../../../../org/opendaylight/controller/cluster/raft/AbstractReplicatedLogImpl.html" title="org.opendaylight.controller.cluster.raft中的类">AbstractReplicatedLogImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ReplicatedLog</span></pre>
<div class="block">Represents the ReplicatedLog that needs to be kept in sync by the RaftActor.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#NO_MAX_SIZE">NO_MAX_SIZE</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">抽象方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#append-org.opendaylight.controller.cluster.raft.ReplicatedLogEntry-">append</a></span>(<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;replicatedLogEntry)</code>
<div class="block">Appends an entry to the log.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#appendAndPersist-org.opendaylight.controller.cluster.raft.ReplicatedLogEntry-java.util.function.Consumer-boolean-">appendAndPersist</a></span>(@NonNull <a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;replicatedLogEntry,
                @Nullable <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="java.util.function中的类或接口">Consumer</a>&lt;<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&gt;&nbsp;callback,
                boolean&nbsp;doAsync)</code>
<div class="block">Appends an entry to the in-memory log and persists it as well.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#captureSnapshotIfReady-org.opendaylight.controller.cluster.raft.ReplicatedLogEntry-">captureSnapshotIfReady</a></span>(<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;replicatedLogEntry)</code>
<div class="block">Determines if a snapshot needs to be captured based on the count/memory consumed and initiates the capture.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#clear-int-int-">clear</a></span>(int&nbsp;startIndex,
     int&nbsp;endIndex)</code>
<div class="block">Clears the journal entries with startIndex (inclusive) and endIndex (exclusive).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#dataSize--">dataSize</a></span>()</code>
<div class="block">Returns the size of the data in the log (in bytes).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>@Nullable <a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#get-long-">get</a></span>(long&nbsp;index)</code>
<div class="block">Return the replicated log entry at the specified index.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>@NonNull <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#getFrom-long-">getFrom</a></span>(long&nbsp;index)</code>
<div class="block">Returns a list of log entries starting from the given index to the end of the log.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>@NonNull <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#getFrom-long-int-long-">getFrom</a></span>(long&nbsp;index,
       int&nbsp;maxEntries,
       long&nbsp;maxDataSize)</code>
<div class="block">Returns a list of log entries starting from the given index up to the given maximum of entries or
 the given maximum accumulated size, whichever comes first.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#getSnapshotIndex--">getSnapshotIndex</a></span>()</code>
<div class="block">Returns the index of the snapshot.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#getSnapshotTerm--">getSnapshotTerm</a></span>()</code>
<div class="block">Returns the term of the snapshot.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#increaseJournalLogCapacity-int-">increaseJournalLogCapacity</a></span>(int&nbsp;amount)</code>
<div class="block">Optimization method to increase the capacity of the journal log prior to appending entries.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#isInSnapshot-long-">isInSnapshot</a></span>(long&nbsp;index)</code>
<div class="block">Checks if the entry is present in a snapshot.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#isPresent-long-">isPresent</a></span>(long&nbsp;index)</code>
<div class="block">Checks if the entry at the specified index is present or not.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>@Nullable <a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#last--">last</a></span>()</code>
<div class="block">Return the last replicated log entry in the log or null of not found.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#lastIndex--">lastIndex</a></span>()</code>
<div class="block">Return the index of the last entry in the log or -1 if the log is empty.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#lastTerm--">lastTerm</a></span>()</code>
<div class="block">Return the term of the last entry in the log or -1 if the log is empty.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#removeFrom-long-">removeFrom</a></span>(long&nbsp;index)</code>
<div class="block">Removes entries from the in-memory log starting at the given index.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#removeFromAndPersist-long-">removeFromAndPersist</a></span>(long&nbsp;index)</code>
<div class="block">Removes entries from the in-memory log and the persisted log starting at the given index.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#setSnapshotIndex-long-">setSnapshotIndex</a></span>(long&nbsp;snapshotIndex)</code>
<div class="block">Sets the snapshot index in the replicated log.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#setSnapshotTerm-long-">setSnapshotTerm</a></span>(long&nbsp;snapshotTerm)</code>
<div class="block">Sets snapshot term.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#shouldCaptureSnapshot-long-">shouldCaptureSnapshot</a></span>(long&nbsp;logIndex)</code>
<div class="block">Determines if a snapshot should be captured based on the count/memory consumed.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#size--">size</a></span>()</code>
<div class="block">Returns the number of entries in the journal.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#snapshotCommit--">snapshotCommit</a></span>()</code>
<div class="block">Sets the Replicated log to state after snapshot success.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#snapshotPreCommit-long-long-">snapshotPreCommit</a></span>(long&nbsp;snapshotCapturedIndex,
                 long&nbsp;snapshotCapturedTerm)</code>
<div class="block">Handles all the bookkeeping in order to perform a rollback in the event of SaveSnapshotFailure.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLog.html#snapshotRollback--">snapshotRollback</a></span>()</code>
<div class="block">Restores the replicated log to a state in the event of a save snapshot failure.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="NO_MAX_SIZE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NO_MAX_SIZE</h4>
<pre>static final&nbsp;long NO_MAX_SIZE</pre>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../constant-values.html#org.opendaylight.controller.cluster.raft.ReplicatedLog.NO_MAX_SIZE">常量字段值</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="get-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>@Nullable <a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;get(long&nbsp;index)</pre>
<div class="block">Return the replicated log entry at the specified index.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>index</code> - the index of the log entry</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the ReplicatedLogEntry if found, otherwise null if the adjusted index less than 0 or
         greater than the size of the in-memory journal</dd>
</dl>
</li>
</ul>
<a name="last--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>last</h4>
<pre>@Nullable <a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;last()</pre>
<div class="block">Return the last replicated log entry in the log or null of not found.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the last replicated log entry in the log or null of not found.</dd>
</dl>
</li>
</ul>
<a name="lastIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastIndex</h4>
<pre>long&nbsp;lastIndex()</pre>
<div class="block">Return the index of the last entry in the log or -1 if the log is empty.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the index of the last entry in the log or -1 if the log is empty.</dd>
</dl>
</li>
</ul>
<a name="lastTerm--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastTerm</h4>
<pre>long&nbsp;lastTerm()</pre>
<div class="block">Return the term of the last entry in the log or -1 if the log is empty.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the term of the last entry in the log or -1 if the log is empty.</dd>
</dl>
</li>
</ul>
<a name="removeFrom-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFrom</h4>
<pre>long&nbsp;removeFrom(long&nbsp;index)</pre>
<div class="block">Removes entries from the in-memory log starting at the given index.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>index</code> - the index of the first log entry to remove</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the adjusted index of the first log entry removed or -1 if the log entry is not found.</dd>
</dl>
</li>
</ul>
<a name="removeFromAndPersist-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromAndPersist</h4>
<pre>boolean&nbsp;removeFromAndPersist(long&nbsp;index)</pre>
<div class="block">Removes entries from the in-memory log and the persisted log starting at the given index.

 <p>
 The persisted information would then be used during recovery to properly
 reconstruct the state of the in-memory replicated log</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>index</code> - the index of the first log entry to remove</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if entries were removed, false otherwise</dd>
</dl>
</li>
</ul>
<a name="append-org.opendaylight.controller.cluster.raft.ReplicatedLogEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>boolean&nbsp;append(<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;replicatedLogEntry)</pre>
<div class="block">Appends an entry to the log.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>replicatedLogEntry</code> - the entry to append</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the entry was successfully appended, false otherwise. An entry can fail to append if
         the index is already included in the log.</dd>
</dl>
</li>
</ul>
<a name="increaseJournalLogCapacity-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increaseJournalLogCapacity</h4>
<pre>void&nbsp;increaseJournalLogCapacity(int&nbsp;amount)</pre>
<div class="block">Optimization method to increase the capacity of the journal log prior to appending entries.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>amount</code> - the amount to increase by</dd>
</dl>
</li>
</ul>
<a name="appendAndPersist-org.opendaylight.controller.cluster.raft.ReplicatedLogEntry-java.util.function.Consumer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendAndPersist</h4>
<pre>boolean&nbsp;appendAndPersist(@NonNull <a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;replicatedLogEntry,
                         @Nullable <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="java.util.function中的类或接口">Consumer</a>&lt;<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&gt;&nbsp;callback,
                         boolean&nbsp;doAsync)</pre>
<div class="block">Appends an entry to the in-memory log and persists it as well.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>replicatedLogEntry</code> - the entry to append</dd>
<dd><code>callback</code> - the callback to be notified when persistence is complete (optional).</dd>
<dd><code>doAsync</code> - if true, the persistent actor can receive subsequent messages to process in between the persist
        call and the execution of the associated callback. If false, subsequent messages are stashed and get
        delivered after persistence is complete and the associated callback is executed. In either case the
        callback is guaranteed to execute in the context of the actor associated with this log.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the entry was successfully appended, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="getFrom-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFrom</h4>
<pre>@NonNull <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&gt;&nbsp;getFrom(long&nbsp;index)</pre>
<div class="block">Returns a list of log entries starting from the given index to the end of the log.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>index</code> - the index of the first log entry to get.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the List of entries</dd>
</dl>
</li>
</ul>
<a name="getFrom-long-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFrom</h4>
<pre>@NonNull <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&gt;&nbsp;getFrom(long&nbsp;index,
                                          int&nbsp;maxEntries,
                                          long&nbsp;maxDataSize)</pre>
<div class="block">Returns a list of log entries starting from the given index up to the given maximum of entries or
 the given maximum accumulated size, whichever comes first.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>index</code> - the index of the first log entry to get</dd>
<dd><code>maxEntries</code> - the maximum number of entries to get</dd>
<dd><code>maxDataSize</code> - the maximum accumulated size of the log entries to get</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the List of entries meeting the criteria.</dd>
</dl>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>long&nbsp;size()</pre>
<div class="block">Returns the number of entries in the journal.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the number of entries</dd>
</dl>
</li>
</ul>
<a name="isPresent-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPresent</h4>
<pre>boolean&nbsp;isPresent(long&nbsp;index)</pre>
<div class="block">Checks if the entry at the specified index is present or not.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>index</code> - the index of the log entry</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the entry is present in the in-memory journal</dd>
</dl>
</li>
</ul>
<a name="isInSnapshot-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInSnapshot</h4>
<pre>boolean&nbsp;isInSnapshot(long&nbsp;index)</pre>
<div class="block">Checks if the entry is present in a snapshot.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>index</code> - the index of the log entry</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the entry is in the snapshot. false if the entry is not in the snapshot even if the entry may
         be present in the replicated log</dd>
</dl>
</li>
</ul>
<a name="getSnapshotIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSnapshotIndex</h4>
<pre>long&nbsp;getSnapshotIndex()</pre>
<div class="block">Returns the index of the snapshot.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the index from which the snapshot was created. -1 otherwise.</dd>
</dl>
</li>
</ul>
<a name="getSnapshotTerm--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSnapshotTerm</h4>
<pre>long&nbsp;getSnapshotTerm()</pre>
<div class="block">Returns the term of the snapshot.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the term of the index from which the snapshot was created. -1 otherwise</dd>
</dl>
</li>
</ul>
<a name="setSnapshotIndex-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSnapshotIndex</h4>
<pre>void&nbsp;setSnapshotIndex(long&nbsp;snapshotIndex)</pre>
<div class="block">Sets the snapshot index in the replicated log.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>snapshotIndex</code> - the index to set</dd>
</dl>
</li>
</ul>
<a name="setSnapshotTerm-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSnapshotTerm</h4>
<pre>void&nbsp;setSnapshotTerm(long&nbsp;snapshotTerm)</pre>
<div class="block">Sets snapshot term.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>snapshotTerm</code> - the term to set</dd>
</dl>
</li>
</ul>
<a name="clear-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear(int&nbsp;startIndex,
           int&nbsp;endIndex)</pre>
<div class="block">Clears the journal entries with startIndex (inclusive) and endIndex (exclusive).</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>startIndex</code> - the start index (inclusive)</dd>
<dd><code>endIndex</code> - the end index (exclusive)</dd>
</dl>
</li>
</ul>
<a name="snapshotPreCommit-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotPreCommit</h4>
<pre>void&nbsp;snapshotPreCommit(long&nbsp;snapshotCapturedIndex,
                       long&nbsp;snapshotCapturedTerm)</pre>
<div class="block">Handles all the bookkeeping in order to perform a rollback in the event of SaveSnapshotFailure.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>snapshotCapturedIndex</code> - the new snapshot index</dd>
<dd><code>snapshotCapturedTerm</code> - the new snapshot term</dd>
</dl>
</li>
</ul>
<a name="snapshotCommit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotCommit</h4>
<pre>void&nbsp;snapshotCommit()</pre>
<div class="block">Sets the Replicated log to state after snapshot success.</div>
</li>
</ul>
<a name="snapshotRollback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotRollback</h4>
<pre>void&nbsp;snapshotRollback()</pre>
<div class="block">Restores the replicated log to a state in the event of a save snapshot failure.</div>
</li>
</ul>
<a name="dataSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataSize</h4>
<pre>int&nbsp;dataSize()</pre>
<div class="block">Returns the size of the data in the log (in bytes).</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the size of the data in the log (in bytes)</dd>
</dl>
</li>
</ul>
<a name="captureSnapshotIfReady-org.opendaylight.controller.cluster.raft.ReplicatedLogEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>captureSnapshotIfReady</h4>
<pre>void&nbsp;captureSnapshotIfReady(<a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口">ReplicatedLogEntry</a>&nbsp;replicatedLogEntry)</pre>
<div class="block">Determines if a snapshot needs to be captured based on the count/memory consumed and initiates the capture.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>replicatedLogEntry</code> - the last log entry.</dd>
</dl>
</li>
</ul>
<a name="shouldCaptureSnapshot-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shouldCaptureSnapshot</h4>
<pre>boolean&nbsp;shouldCaptureSnapshot(long&nbsp;logIndex)</pre>
<div class="block">Determines if a snapshot should be captured based on the count/memory consumed.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>logIndex</code> - the log index to use to determine if the log count has exceeded the threshold</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if a snapshot should be captured, false otherwise</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/ReplicatedLog.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opendaylight/controller/cluster/raft/RaftVersions.html" title="org.opendaylight.controller.cluster.raft中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../org/opendaylight/controller/cluster/raft/ReplicatedLogEntry.html" title="org.opendaylight.controller.cluster.raft中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opendaylight/controller/cluster/raft/ReplicatedLog.html" target="_top">框架</a></li>
<li><a href="ReplicatedLog.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="https://www.opendaylight.org">OpenDaylight</a>. All rights reserved.</small></p>
</body>
</html>
